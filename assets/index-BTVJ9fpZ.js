import{r as c,K as h,e as d}from"./index-3zfdHyOq.js";function g(s="theme"){const r=()=>{if(typeof window>"u")return"light";const e=matchMedia("(prefers-color-scheme: dark)"),t=localStorage.getItem(s);return t==="dark"||t!=="light"&&e.matches?"dark":"light"},[o,n]=c.useState(r);c.useEffect(()=>{const e=matchMedia("(prefers-color-scheme: dark)"),t=()=>{const a=r();n(a),document.documentElement.classList.toggle("dark",a==="dark")};return t(),e.addEventListener("change",t),()=>e.removeEventListener("change",t)},[]);const m=h(()=>{const e=o==="dark"?"light":"dark";n(e),document.documentElement.classList.toggle("dark",e==="dark"),localStorage.setItem(s,e),dispatchEvent(new CustomEvent("ui-theme-change",{detail:{theme:e}}))});return d("ui-theme-change",e=>{n(e.detail.theme)}),[o,m]}export{g as u};
